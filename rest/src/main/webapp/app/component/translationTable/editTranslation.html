<div class="modal-header">
  <h4>{{action}} Translation</h4>
</div>

<div class="modal-body">
  <div>
    <table class="table">
      <tr>
        <td>
          <b>Project:</b>
        </td>
        <td>{{project.name}}</td>
      </tr>
      <tr>
        <td>
          <b>Refset</b>
        </td>
        <td>
          <select ng-show="action == 'Add'" ng-model="refset"
            ng-change="selectRefset(refset)"
            ng-options="item.name.concat(' (',item.id,')') for item in refsets"></select>
          <span ng-show="refset && action == 'Add'">
            <br />
          </span>
          <span ng-show="refset">
            {{refset.moduleId}}
            <span flag-icon obj="translation"></span>
            {{refset.organization}}
          </span>
        </td>
      </tr>
      <tr>
        <td>
          <b>Name</b>
        </td>
        <td>
          <input ng-model="translation.name" size="40" />
        </td>
      </tr>
      <tr>
        <td>
          <b>Description</b>
        </td>
        <td>
          <textarea rows="4" cols="40" ng-model="translation.description"
            placeholder="Basic description of translation"></textarea>
        </td>
      </tr>
      <tr>
        <td>
          <b>Language</b>
        </td>
        <td>
          <input ng-model="translation.language" placeholder="e.g. es, se, da"
            size="15" />
        </td>
      </tr>
      <tr>
        <td>
          <b>Module Id</b>
        </td>
        <td>
          {{translation.moduleId}}
          <span flag-icon obj="translation"></span>
        </td>
      </tr>
      <tr>
        <td>
          <b>Terminology</b>
        </td>
        <td>{{translation.terminology}}</td>
      </tr>
      <tr>
        <td>
          <b>Version</b>
        </td>
        <td>{{translation.version}}</td>
      </tr>
      <tr>
        <td>
          <b>Workflow path</b>
        </td>
        <td>
          <span ng-show="metadata.workflowPaths.length == 1">{{translation.workflowPath}}</span>
          <select ng-show="metadata.workflowPaths.length > 1"
            ng-model="translation.workflowPath"
            ng-options="item for item in metadata.workflowPaths"></select>
        </td>
      </tr>

      <tr ng-show="errors.length > 0">
        <td>&nbsp;</td>
        <td>
          <div class="alert alert-danger alert-error"
            ng-repeat="error in errors">{{error}}</div>
        </td>
      </tr>
      <tr ng-show="warnings.length > 0">
        <td>&nbsp;</td>
        <td>
          <div class="alert alert-warning" ng-repeat="warning in warnings">{{warning}}</div>
        </td>
      </tr>
    </table>
  </div>

  <div class="modal-footer">
    <button class="btn btn-primary"
      ng-click="submitTranslation(translation); 
    ">{{action}}</button>
    <button class="btn btn-warning" ng-click="cancel()">Cancel</button>
  </div>